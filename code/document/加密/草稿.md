## 引入问题
**先来一个传盒子的例子:a==>b传输信息，怎样保证通信安全?**  

1. 由接收方b开始，b将一个空盒子上锁发送给a，a将信息放入盒子，在盒子另一边再上一把锁。两把锁是或的关系，再将盒子还给b，b用自己的钥匙开自己的锁就行了；（类似非对称加密思想，开锁/解锁用不同的钥匙）
2. 由发送方a开始，a将信息放入盒子上锁，然后发给b，b在原来的锁上再加一把锁，两把锁是与的关系。再把盒子还给a，a打开自己的锁，再把盒子传给b，b用自己的钥匙开自己的锁（实际不好实现，要求加密两次串联的加密解密不受顺序影响）

## 通信干扰
1. 原信息泄露；
2. 原信息篡改；
3. 拦截信息后伪装身份，原信息替代；
## 对称加密思想
    对称加密不考虑通信安全问题，只讨论加密方法。
    信息的本质是单个信息单元（字母，数字）按一定顺序排列起来。所以加密的两种思想就从混淆这两个入手。置换信息单元；打乱排列顺序。
1. **置换信息单元**：如凯撒密码等。如平移n位，根据公式计算替换等。  
    缺点：长时间用同一套密钥，可以使用频率分析法尝试破解。
2. **打乱排列顺序**：可以从图形变换的方向思考。将信息单元一行排n个，但是按竖向将单元连接起来形成密文；还有对称翻转；固定长度倒序等。     

```
对称加密的安全性取决于密钥的安全性，而且需要经常更换密钥来保证不被破解。优点是使用方便,效率高。但是如果每次都在网络中把密钥和数据一起发送，那网络上的信息没有任何安全性可言。所以通常的加密方案是：用非对称加密使用的密钥，用这个对称密钥加密数据。兼顾安全与效率。
```

## 非对称加密
    非对称加密用来解决安全问题，通信内容的安全中，数据和密钥都是需要传输的对象。都有泄露或者修改替代的风险。
    理论上分析，a要给互相没有关系的b发送消息，要通过网络c来传递信息。在这个过程中，b和c的地位没有任何区别，都是陌生人。b所有的行为没有任何优势，中间人c都可以模拟，看去上要安全通信似乎是不可能的。
    首先是双方各自都要通过非对称算法生成一对密钥：公钥和私钥。然后将公钥广播出去，谁要给我发消息，就用公钥加密再发过来。我收到密文后自己用私钥解密。私钥只有自己拥有，从来没有传递，所以安全。
``` 
    补充：
    密钥对的生成使用的算法必须要求，正向计算很简单，逆向计算很困难。例如把各种油漆混在一起很容易，但是要从混着的油漆分离出来很困难。RSA使用大的质数分解困难实现。
    公钥加密，私钥解密-------------用于非对称加密通信
    私钥加密，公钥解密------------用于创建数字签名
```
```
    用这个方案，中间人凭公钥无法在偷看或者篡改信息内容，如果他直接替换加密内容。接收方将无法破解并且会知道信息已经被替换。  
    但这些成立的前提是公钥能安全传到对方手中。在第一次传递公钥时，中间人直接将原本的公钥扣下，给两边分别发去自己伪造的公钥，然后伪装成通信的两人分别在两边对话。相当于a，b以为互相取得了对方的公钥在和对方聊天，实际上都是在和中间人聊天。所以公钥传送的时候还应该加上一条：必须要保证公钥是通信的双发生成的，而不是伪造的。也就是要验证公钥。  
    方法是找到第三方公正机构CA申请公钥证书，来验证公钥。但是怎么保证和CA的通信是安全的，这里不懂了后续补充。还是回到最初的直觉上，完全不想关的两人能完美的通信好像还是有问题。
```
## 另一种类型的加密-散列算法（消息摘要）
    正常的加密都是能将信息通过解密还原的，散列算法加密后，原始信息部分丢失，加密过程不可逆。用来生成指纹，签名，可以校验文件的完整性和 验证身份。
### md5加密
    生成128bit的二进制串，通常用8个16进制数表示，例如：a1b557cd;
    优点：运算快；
    缺点：太短已经不太安全
### SHA加密
    生成不同位的二进制串
    优点：安全性好；
    缺点：运算比较慢
### base64
    js全局方法：
    btoa(string) 字符串视为byte编码为Ascii；
    atob(string) 解密


